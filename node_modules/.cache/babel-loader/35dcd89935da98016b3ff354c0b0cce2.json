{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marii\\\\OneDrive\\\\Desktop\\\\JavaScript\\\\react_app\\\\src\\\\components\\\\Content\\\\MyPosts\\\\MyPostsFieldForm.tsx\";\nimport React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { addNewPost } from \"../../../redux/profileReducer\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyPostsFieldForm = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: values => {\n        props.onSubmitForm(values.new_post);\n      },\n      keepDirtyOnReinitialize: true,\n      validate: values => {\n        const errors = {};\n\n        if (!values.new_post) {\n          // @ts-ignore\n          errors.new_post = \"Required\";\n        }\n\n        return errors;\n      },\n      render: ({\n        handleSubmit,\n        form\n      }) => /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          const promise = handleSubmit(event);\n          promise && promise.then(() => {\n            form.setConfig('keepDirtyOnReinitialize', false);\n            form.reset();\n            form.setConfig('keepDirtyOnReinitialize', true);\n          });\n          return promise;\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            name: \"new_post\",\n            children: ({\n              input,\n              meta\n            }) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...input,\n                type: \"text\",\n                placeholder: \"Your new post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"submit\",\n            type: \"submit\",\n            value: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 13\n  }, this);\n};\n\n_c = MyPostsFieldForm;\n\nclass MyPostsFieldFormContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onSubmitForm = values => {\n      this.props.addNewPost(values);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(MyPostsFieldForm, {\n        onSubmitForm: this.onSubmitForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default connect(null, {\n  addNewPost\n})(MyPostsFieldFormContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"MyPostsFieldForm\");","map":{"version":3,"sources":["C:/Users/marii/OneDrive/Desktop/JavaScript/react_app/src/components/Content/MyPosts/MyPostsFieldForm.tsx"],"names":["React","Form","Field","addNewPost","connect","MyPostsFieldForm","props","values","onSubmitForm","new_post","errors","handleSubmit","form","event","promise","then","setConfig","reset","input","meta","MyPostsFieldFormContainer","Component","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,KAAd,QAA0B,kBAA1B;AAEA,SAAQC,UAAR,QAAmC,+BAAnC;AACA,SAAQC,OAAR,QAAsB,aAAtB;;;AAKA,MAAMC,gBAA+C,GAAIC,KAAD,IAAW;AAE/D,sBAAQ;AAAA,2BACJ,QAAC,IAAD;AACI,MAAA,QAAQ,EAAGC,MAAD,IAAY;AAClBD,QAAAA,KAAK,CAACE,YAAN,CAAmBD,MAAM,CAACE,QAA1B;AACH,OAHL;AAII,MAAA,uBAAuB,MAJ3B;AAKI,MAAA,QAAQ,EAAEF,MAAM,IAAI;AAChB,cAAMG,MAAM,GAAG,EAAf;;AACA,YAAI,CAACH,MAAM,CAACE,QAAZ,EAAsB;AAClB;AACAC,UAAAA,MAAM,CAACD,QAAP,GAAkB,UAAlB;AACH;;AACD,eAAOC,MAAP;AACH,OAZL;AAaI,MAAA,MAAM,EAAE,CAAC;AAACC,QAAAA,YAAD;AAAeC,QAAAA;AAAf,OAAD,kBACJ;AAAM,QAAA,QAAQ,EAAGC,KAAD,IAAW;AACvB,gBAAMC,OAAO,GAAGH,YAAY,CAACE,KAAD,CAA5B;AACAC,UAAAA,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAa,MAAM;AAC1BH,YAAAA,IAAI,CAACI,SAAL,CAAe,yBAAf,EAA0C,KAA1C;AACAJ,YAAAA,IAAI,CAACK,KAAL;AACAL,YAAAA,IAAI,CAACI,SAAL,CAAe,yBAAf,EAA0C,IAA1C;AACH,WAJU,CAAX;AAKA,iBAAOF,OAAP;AACH,SARD;AAAA,+BAUI;AAAA,kCACI,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAA,sBACK,CAAC;AAACI,cAAAA,KAAD;AAAQC,cAAAA;AAAR,aAAD,kBACG;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,sBAAWD,KAAX;AAAkB,gBAAA,IAAI,EAAC,MAAvB;AAA8B,gBAAA,WAAW,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFR;AAAA;AAAA;AAAA;AAAA,kBADJ,eAUI;AAAO,YAAA,IAAI,EAAE,QAAb;AAAuB,YAAA,IAAI,EAAE,QAA7B;AAAuC,YAAA,KAAK,EAAE;AAA9C;AAAA;AAAA;AAAA;AAAA,kBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAVJ;AAAA;AAAA;AAAA;AAAA;AAdR;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,UAAR;AAyCH,CA3CD;;KAAMb,gB;;AA+CN,MAAMe,yBAAN,SAAwCpB,KAAK,CAACqB,SAA9C,CAAgF;AAAA;AAAA;;AAAA,SAC5Eb,YAD4E,GAC5DD,MAAD,IAAoB;AAC/B,WAAKD,KAAL,CAAWH,UAAX,CAAsBI,MAAtB;AACH,KAH2E;AAAA;;AAK5Ee,EAAAA,MAAM,GAAG;AACL,wBAAQ;AAAA,6BACJ,QAAC,gBAAD;AAAkB,QAAA,YAAY,EAAE,KAAKd;AAArC;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,YAAR;AAIH;;AAV2E;;AAahF,eAAeJ,OAAO,CAAC,IAAD,EAAO;AAACD,EAAAA;AAAD,CAAP,CAAP,CAA4BiB,yBAA5B,CAAf","sourcesContent":["import React from 'react';\r\nimport {Form, Field} from 'react-final-form';\r\n\r\nimport {addNewPost, PostType} from \"../../../redux/profileReducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MyPostFieldFormType = {\r\n    onSubmitForm: (values:string ) => void\r\n}\r\nconst MyPostsFieldForm: React.FC<MyPostFieldFormType> = (props) => {\r\n\r\n    return (<div>\r\n        <Form\r\n            onSubmit={(values) => {\r\n                props.onSubmitForm(values.new_post);\r\n            }}\r\n            keepDirtyOnReinitialize\r\n            validate={values => {\r\n                const errors = {}\r\n                if (!values.new_post) {\r\n                    // @ts-ignore\r\n                    errors.new_post = \"Required\"\r\n                }\r\n                return errors;\r\n            }}\r\n            render={({handleSubmit, form}) => (\r\n                <form onSubmit={(event) => {\r\n                    const promise = handleSubmit(event);\r\n                    promise && promise.then(() => {\r\n                        form.setConfig('keepDirtyOnReinitialize', false);\r\n                        form.reset();\r\n                        form.setConfig('keepDirtyOnReinitialize', true);\r\n                    })\r\n                    return promise;\r\n                }}\r\n                >\r\n                    <div>\r\n                        <Field name=\"new_post\">\r\n                            {({input, meta}) => (\r\n                                <div>\r\n                                    <label></label>\r\n                                    <input {...input} type=\"text\" placeholder=\"Your new post\"/>\r\n                                    {/* {meta.error && meta.touched && <span>{meta.error}</span>} */}\r\n                                </div>\r\n                            )}\r\n                        </Field>\r\n                        <input name={\"submit\"} type={\"submit\"} value={\"Send\"}/>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        />\r\n    </div>)\r\n}\r\ntype PropsPostFieldFormType = {\r\n    addNewPost: (values: string) => void\r\n}\r\nclass MyPostsFieldFormContainer extends React.Component<PropsPostFieldFormType> {\r\n    onSubmitForm = (values: string) => {\r\n        this.props.addNewPost(values);\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <MyPostsFieldForm onSubmitForm={this.onSubmitForm}/>\r\n\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default connect(null, {addNewPost})(MyPostsFieldFormContainer);"]},"metadata":{},"sourceType":"module"}