{"ast":null,"code":"import axios from 'axios';\nconst instance = axios.create({\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  withCredentials: true,\n  headers: {\n    \"API-KEY\": \"e8349719-ae81-4d3f-972e-206990f2d8c6\"\n  }\n});\nexport const usersApi = {\n  getUsers(currentPage, pageSize = 10) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\n      return response.data;\n    });\n  },\n\n  getSubscription(id) {\n    return instance.post(`follow/${id}`).then(response => {\n      return response.data.resultCode;\n    });\n  },\n\n  deleteSubscription(id) {\n    return instance.delete(`follow/${id}`).then(response => {\n      return response.data.resultCode;\n    });\n  },\n\n  getUserProfile(userId) {\n    console.log(\"Obsolete API. Use profileAPI.getUserProfile instead\");\n    return profileAPI.getUserProfile(userId);\n  }\n\n};\nexport const profileAPI = {\n  getUserProfile(userId) {\n    return instance.get(`profile/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n\n  getUserStatus(userId) {\n    return instance.get(`/profile/status/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n\n  updateUserStatus(status) {\n    return instance.put(`/profile/status`, {\n      status: status\n    }).then(response => {\n      return response.data;\n    });\n  },\n\n  //\n  // savePhoto(file: any) {\n  //     let formData = new FormData();\n  //     formData.append(\"image\", file);\n  //     const config = {\n  //         headers: {'content-type': 'multipart/form-data'}\n  //     }\n  //     return instance.put(`/profile/photo`, formData, config).then(response => {\n  //         return response;\n  //     })\n  // },\n  setProfData(values) {\n    return instance.put(`/profile`, values).then(response => {\n      return response;\n    });\n  }\n\n};\nexport const authAPI = {\n  getLoginData() {\n    return instance.get(\"auth/me\").then(response => {\n      return response;\n    });\n  }\n\n};\nexport const captchaAPI = {\n  getCaptchaUrl() {\n    return instance.get(\"/security/get-captcha-url\").then(response => {\n      return response;\n    });\n  }\n\n};\nexport const loginAPI = {\n  signInData(values) {\n    return instance.post(`auth/login`, {\n      email: values.login,\n      password: values.password,\n      rememberMe: values.remember_me[0],\n      captcha: values.captcha\n    }).then(response => {\n      return response;\n    });\n  },\n\n  signOutData() {\n    return instance.delete(`auth/login`).then(response => {\n      return response;\n    });\n  }\n\n};","map":{"version":3,"sources":["C:/Users/marii/OneDrive/Desktop/JavaScript/react_app/src/api/api.ts"],"names":["axios","instance","create","baseURL","withCredentials","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","getSubscription","id","post","resultCode","deleteSubscription","delete","getUserProfile","userId","console","log","profileAPI","getUserStatus","updateUserStatus","status","put","setProfData","values","authAPI","getLoginData","captchaAPI","getCaptchaUrl","loginAPI","signInData","email","login","password","rememberMe","remember_me","captcha","signOutData"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {ValuesType} from \"../redux/authReducer\";\r\nimport {SetProfileDataType} from \"../redux/profileReducer\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"e8349719-ae81-4d3f-972e-206990f2d8c6\"\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage: number, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    getSubscription(id: number) {\r\n        return instance.post(`follow/${id}`).then(response => {\r\n            return response.data.resultCode\r\n        })\r\n    },\r\n\r\n    deleteSubscription(id: number) {\r\n\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data.resultCode\r\n        })\r\n    },\r\n\r\n    getUserProfile(userId: number) {\r\n\r\n        console.log(\"Obsolete API. Use profileAPI.getUserProfile instead\");\r\n        return profileAPI.getUserProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: number) {\r\n\r\n        return instance.get(`profile/${userId}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get(`/profile/status/${userId}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    updateUserStatus(status: string) {\r\n        return instance.put(`/profile/status`, {status: status}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    //\r\n    // savePhoto(file: any) {\r\n    //     let formData = new FormData();\r\n    //     formData.append(\"image\", file);\r\n    //     const config = {\r\n    //         headers: {'content-type': 'multipart/form-data'}\r\n    //     }\r\n    //     return instance.put(`/profile/photo`, formData, config).then(response => {\r\n    //         return response;\r\n    //     })\r\n    // },\r\n\r\n    setProfData(values:SetProfileDataType) {\r\n\r\n        return instance.put(`/profile`, values).then(response => {\r\n            return response\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    getLoginData() {\r\n\r\n        return instance.get(\"auth/me\").then(response => {\r\n\r\n            return response\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const captchaAPI = {\r\n    getCaptchaUrl() {\r\n\r\n        return instance.get(\"/security/get-captcha-url\").then(response => {\r\n\r\n            return response\r\n        });\r\n    }\r\n\r\n}\r\n\r\ntype SignInDataType = {\r\n    login: string,\r\n    password: string,\r\n    remember_me: any\r\n    captcha: null | string\r\n}\r\nexport const loginAPI = {\r\n    signInData(values: SignInDataType) {\r\n        return instance.post(`auth/login`, {\r\n            email: values.login,\r\n            password: values.password,\r\n            rememberMe: values.remember_me[0],\r\n            captcha: values.captcha\r\n        }).then(response => {\r\n            return response\r\n        })\r\n    },\r\n\r\n    signOutData() {\r\n        return instance.delete(`auth/login`).then(response => {\r\n            return response\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}